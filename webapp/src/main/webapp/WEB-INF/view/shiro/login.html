<html>
<head>
    <script src="../assets/js/jquery-1.8.2.min.js"></script>
</head>
<body>
<h2>Hello World! LOGIN</h2>
<div class="page-container">
    <h1>Login</h1>
    <input type="text" name="userName" class="username" placeholder="Username"><br>
    <input type="password" name="password" class="password" placeholder="Password"><br>
    <button class="login">login</button>
    <button class="logout">logout</button><br>
</div>
<script>
    //获取当前网址，
    var curWwwPath=window.document.location.href;
    //获取主机地址之后的目录，如： ssm/user/index.html
    var pathName=window.document.location.pathname;
    var pos=curWwwPath.indexOf(pathName);
    //获取主机地址，如： http://localhost:8088
    var localhostPath=curWwwPath.substring(0,pos);
    //获取带"/"的项目名，如：/ssm
    var projectName=pathName.substring(0,pathName.substr(1).indexOf('/')+1);


    $(".login").on("click",function () {
        $.ajax({
            dataType:'html',
            type:'GET',
            url: localhostPath+"/"+projectName+'/shiro/shiro-login.html',
            data:{
                username:$('input[name="userName"]').val(),
                password:$('input[name="password"]').val()
            },
            success:function (data) {
                console.log(data.success);
            }
        });
    });

    $(".logout").on("click",function () {
        $.ajax({
            dataType:'json',
            type:'get',
            url: localhostPath+"/"+projectName+'/shiro/shiro-logout.json',
            data:{},
            success:function (data) {
                console.log(data.success);
            }
        });
    });

</script>
</body>
</html>
